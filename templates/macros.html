{% macro weapon_tree_row(weapon) %}
<li>
  <a
    id="{{ weapon.slug }}"
    class="weapon-tree__row"
    {% if weapon.rarity %}
    href="/blacksmith/{{ section.extra.type }}/{{ weapon.slug }}/"
    {% endif %}
    data-turbo-frame="weapon_details"
  >
    {% if weapon.rarity %}
      <div class="
        icon
        icon--{{ section.extra.type }}
        icon--rarity-{{ weapon.rarity }}
        {% if weapon.element -%}
          icon--{{ weapon.element }}
        {%- endif -%}
        "
      >
        <img src="/images/{{ section.extra.type }}.png" alt="?">
      </div>
    {% else %}
      <div class="icon icon--ukwn">
        <img src="/images/ukwn.png" alt="?">
      </div>
    {% endif %}
    <p class="name">{{ weapon.name }}</p>
  </a>
  
  {% if weapon.children %}
  <ul {% if weapon.children | length > 1 %}class="multiple-children"{% endif %}>
    {% for child_weapon in weapon.children %}
      {{ self::weapon_tree_row(weapon=child_weapon) }}
    {% endfor %}
  </ul>
  {% endif %}
</li>
{% endmacro input %}
